{% extends 'assays/detail_assay2.html' %}

{% block assay_content %}
 <!-- /.card -->
    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">Measurements</h3>
          </div>
          <!-- /.card-header -->
          <div class="card-body" id="tabledata">
            <div id="example1_wrapper" class="dataTables_wrapper dt-bootstrap4">
              <div class="row">
                <div class="col-sm-12">
                  <table id="example1" class="table table-bordered table-hover dataTable" aria-describedby="example1_info">
                <thead class="thead-light">
                <tr>
                  <th>Mouse ID</th>
                  <th>Mouse Genotype</th>        
                  <th>Timepoint</th>        
                  <th>Measurement Date</th>
                  <th>Sample ID</th>
                  <th>Sample Source</th>
                  <th>Live/Fixed Aquis</th>
                  <th>Total cell count</th>
                  <th>% All Cells</th>
                  <th>% Live</th>
                  <th>% Early Apoptotic</th>
                  <th>% Late Apoptotic</th>
                  <th>% Necrtotic</th>
                  <th># All Cells</th>
                  <th># Live</th>
                  <th># Early Apoptotic</th>
                  <th># Late Apoptotic</th>
                  <th># Necrtotic</th>
                  <th>% Total Leukocytes</th>
                  <th>% Apoptotic Leukocytes</th>
                  <th>% Necrotic Leukocytes</th>
                  <th>% Live Leukocytes</th>
                  <th>% Total Epithelial</th>
                  <th>% Apoptotic Epithelial</th>
                  <th>% Necrotic Epithelial</th>
                  <th>% Live Epithelial</th>
                  <th># Total Leukocytes</th>
                  <th># Apoptotic Leukocytes</th>
                  <th># Necrotic Leukocytes</th>
                  <th># Live Leukocytes</th>
                  <th># Total Epithelial</th>
                  <th># Apoptotic Epithelial</th>
                  <th># Necrotic Epithelial</th>
                  <th># Live Epithelial</th>
                  <th>Comment</th>
                </tr>
              </thead>
              <tbody>
                {% for assay in measures %}
                  <tr class="table-row" data-href="#tabledata" class="btn" data-toggle="popover" data-img="../../static/dist/img/phenLogo.png" title='<img src="../../static/dist/img/phenLogo.png" class="img-circle mr-sm-5" alt="Sample Image" width="40" height="40"><h5><b>Mouse {{assay.mid}}</h5>' data-content='
                    <div class="media"></div><div class="media-body"><p><b>Gender</b>: {{assay.mid.gender|default_if_none:""}}</p>
                    <p><b>Genotype</b>: {{assay.mid.genotype|default_if_none:""}}</p> 
                    <p><b>Date of Birth</b>: {{assay.mid.date|default_if_none:""}}</p> 
                    <p><b>Age</b>: {{assay.mid.age|default_if_none:""}} </p> 
                    <p><b>Induced</b>: {{assay.mid.induced|default_if_none:""}}</p>     
                    <p><b>Treated</b>: {{assay.mid.treated|default_if_none:""}}</p> 
                    <p><b>Diet</b>: {{assay.mid.diet|default_if_none:""}}</p> 
                    <p><b>Other Mouse Information</b>: {{assay.mid.mouse_info|default_if_none:""}}</p>
                    <p><b>Other environmental data</b>: {{assay.mid.other|default_if_none:""}}</p></div>'>                    <!--<td>{{ assay.assayid }}</td>-->
                    <td>{{ assay.mid|default_if_none:"" }}</td>
                    <td>{{ assay.mid.genotype|default_if_none:"" }}</td>          
                    <td>{{ assay.timepoint|default_if_none:"" }}</td>
                    <td>{{ assay.measurement_date|default_if_none:"" }}</td>
                    <td>{{ assay.sample_id|default_if_none:"" }}</td>
                    <td>{{ assay.sample_source|default_if_none:"" }}</td>
                    <td>{{ assay.live_aquis|default_if_none:"" }}</td>
                    <td>{{ assay.total_cell_count|default_if_none:"" }}</td>
                    <td>{{ assay.all_cells_per|default_if_none:"" }}</td>
                    <td>{{ assay.live_cells_per|default_if_none:"" }}</td>
                    <td>{{ assay.early_apoptotic_per|default_if_none:"" }}</td>
                    <td>{{ assay.late_apoptotic_per|default_if_none:"" }}</td>
                    <td>{{ assay.necrotic_per|default_if_none:"" }}</td>
                    <td>{{ assay.all_cells_num|default_if_none:"" }}</td>
                    <td>{{ assay.live_cells_num|default_if_none:"" }}</td>
                    <td>{{ assay.early_apoptotic_num|default_if_none:"" }}</td>
                    <td>{{ assay.late_apoptotic_num|default_if_none:"" }}</td>
                    <td>{{ assay.necrotic_num|default_if_none:"" }}</td>
                    <td>{{ assay.total_leukocytes_per|default_if_none:"" }}</td>
                    <td>{{ assay.apoptotic_leukocytes_per|default_if_none:"" }}</td>
                    <td>{{ assay.necrotic_leukocytes_per|default_if_none:"" }}</td>
                    <td>{{ assay.live_leukocytes_per|default_if_none:"" }}</td>
                    <td>{{ assay.total_epithelial_per|default_if_none:"" }}</td>
                    <td>{{ assay.apoptotic_epithelial_per|default_if_none:"" }}</td>
                    <td>{{ assay.necrotic_epithelial_per|default_if_none:"" }}</td>
                    <td>{{ assay.live_epithelial_per|default_if_none:"" }}</td>
                    <td>{{ assay.total_leukocytes_num|default_if_none:"" }}</td>
                    <td>{{ assay.apoptotic_leukocytes_num|default_if_none:"" }}</td>
                    <td>{{ assay.necrotic_leukocytes_num|default_if_none:"" }}</td>
                    <td>{{ assay.live_leukocytes_num|default_if_none:"" }}</td>
                    <td>{{ assay.total_epithelial_num|default_if_none:"" }}</td>
                    <td>{{ assay.apoptotic_epithelial_num|default_if_none:"" }}</td>
                    <td>{{ assay.necrotic_epithelial_num|default_if_none:"" }}</td>
                    <td>{{ assay.live_epithelial_num|default_if_none:"" }}</td>
                    <td>{{ assay.comment|default_if_none:"" }}</td>
                  </tr>
                  </tr>
                {% endfor %}
              </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
{% endblock %}


